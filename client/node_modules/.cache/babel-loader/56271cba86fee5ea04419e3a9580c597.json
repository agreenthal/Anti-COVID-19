{"ast":null,"code":"import _slicedToArray from \"/Users/adamgreenthal/anti-covid19-clicker-game/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/adamgreenthal/anti-covid19-clicker-game/client/src/components/Game/Navigation/Menu.js\";\nimport React from 'react';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\nimport HowToPlay from './HowToPlayModal';\nimport ProfileModal from './ProfileModal';\nimport { usePandemicContext } from '../../../contexts/PandemicContext';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      display: 'flex'\n    },\n    paper: {\n      marginRight: theme.spacing(2)\n    },\n    menuButton: {\n      marginRight: theme.spacing(2)\n    }\n  };\n});\n\nfunction MenuListComposition() {\n  var _this = this;\n\n  var _usePandemicContext = usePandemicContext(),\n      _usePandemicContext2 = _slicedToArray(_usePandemicContext, 2),\n      state = _usePandemicContext2[0],\n      dispatch = _usePandemicContext2[1];\n\n  var classes = useStyles();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      open = _React$useState2[0],\n      setOpen = _React$useState2[1];\n\n  var anchorRef = React.useRef(null);\n\n  var handleToggle = function handleToggle() {\n    setOpen(function (prevOpen) {\n      return !prevOpen;\n    });\n  };\n\n  var handleClose = function handleClose(event) {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  function handleListKeyDown(event) {\n    if (event.key === 'Tab') {\n      event.preventDefault();\n      setOpen(false);\n    }\n  } // return focus to the button when we transitioned from !open -> open\n\n\n  var prevOpen = React.useRef(open);\n  React.useEffect(function () {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n  }, [open]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    edge: \"start\",\n    className: classes.menuButton,\n    color: \"inherit\",\n    \"aria-label\": \"menu\",\n    ref: anchorRef,\n    \"aria-controls\": open ? 'menu-list-grow' : undefined,\n    \"aria-haspopup\": \"true\",\n    onClick: handleToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ArrowDropDownIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Popper, {\n    open: open,\n    anchorEl: anchorRef.current,\n    role: undefined,\n    transition: true,\n    disablePortal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, function (_ref) {\n    var TransitionProps = _ref.TransitionProps,\n        placement = _ref.placement;\n    return /*#__PURE__*/React.createElement(Grow, Object.assign({}, TransitionProps, {\n      style: {\n        transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Paper, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(ClickAwayListener, {\n      onClickAway: handleClose,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(MenuList, {\n      autoFocusItem: open,\n      id: \"menu-list-grow\",\n      onKeyDown: handleListKeyDown,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(ProfileModal, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(HowToPlay, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: function onClick() {\n        return dispatch({\n          type: \"QUIT\"\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 41\n      }\n    }, \"Quit\")))));\n  })));\n}\n\nexport default MenuListComposition;","map":{"version":3,"sources":["/Users/adamgreenthal/anti-covid19-clicker-game/client/src/components/Game/Navigation/Menu.js"],"names":["React","ClickAwayListener","Grow","Paper","Popper","MenuItem","MenuList","makeStyles","IconButton","ArrowDropDownIcon","HowToPlay","ProfileModal","usePandemicContext","useStyles","theme","root","display","paper","marginRight","spacing","menuButton","MenuListComposition","state","dispatch","classes","useState","open","setOpen","anchorRef","useRef","handleToggle","prevOpen","handleClose","event","current","contains","target","handleListKeyDown","key","preventDefault","useEffect","focus","undefined","TransitionProps","placement","transformOrigin","type"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,iBAAP,MAA8B,qCAA9B;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,iBAAP,MAA8B,kCAA9B;AAEA,OAAOC,SAAP,MAAsB,kBAAtB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AAEA,SAASC,kBAAT,QAAmC,mCAAnC;AAEA,IAAMC,SAAS,GAAGN,UAAU,CAAC,UAACO,KAAD;AAAA,SAAY;AACrCC,IAAAA,IAAI,EAAE;AACFC,MAAAA,OAAO,EAAE;AADP,KAD+B;AAIrCC,IAAAA,KAAK,EAAE;AACHC,MAAAA,WAAW,EAAEJ,KAAK,CAACK,OAAN,CAAc,CAAd;AADV,KAJ8B;AAOrCC,IAAAA,UAAU,EAAE;AACRF,MAAAA,WAAW,EAAEJ,KAAK,CAACK,OAAN,CAAc,CAAd;AADL;AAPyB,GAAZ;AAAA,CAAD,CAA5B;;AAYA,SAASE,mBAAT,GAA+B;AAAA;;AAAA,4BACDT,kBAAkB,EADjB;AAAA;AAAA,MACpBU,KADoB;AAAA,MACbC,QADa;;AAE3B,MAAMC,OAAO,GAAGX,SAAS,EAAzB;;AAF2B,wBAGHb,KAAK,CAACyB,QAAN,CAAe,KAAf,CAHG;AAAA;AAAA,MAGpBC,IAHoB;AAAA,MAGdC,OAHc;;AAI3B,MAAMC,SAAS,GAAG5B,KAAK,CAAC6B,MAAN,CAAa,IAAb,CAAlB;;AAEA,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACvBH,IAAAA,OAAO,CAAC,UAACI,QAAD;AAAA,aAAc,CAACA,QAAf;AAAA,KAAD,CAAP;AACH,GAFD;;AAIA,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;AAC3B,QAAIL,SAAS,CAACM,OAAV,IAAqBN,SAAS,CAACM,OAAV,CAAkBC,QAAlB,CAA2BF,KAAK,CAACG,MAAjC,CAAzB,EAAmE;AAC/D;AACH;;AAEDT,IAAAA,OAAO,CAAC,KAAD,CAAP;AACH,GAND;;AAQA,WAASU,iBAAT,CAA2BJ,KAA3B,EAAkC;AAC9B,QAAIA,KAAK,CAACK,GAAN,KAAc,KAAlB,EAAyB;AACrBL,MAAAA,KAAK,CAACM,cAAN;AACAZ,MAAAA,OAAO,CAAC,KAAD,CAAP;AACH;AACJ,GAvB0B,CAyB3B;;;AACA,MAAMI,QAAQ,GAAG/B,KAAK,CAAC6B,MAAN,CAAaH,IAAb,CAAjB;AACA1B,EAAAA,KAAK,CAACwC,SAAN,CAAgB,YAAM;AAClB,QAAIT,QAAQ,CAACG,OAAT,KAAqB,IAArB,IAA6BR,IAAI,KAAK,KAA1C,EAAiD;AAC7CE,MAAAA,SAAS,CAACM,OAAV,CAAkBO,KAAlB;AACH;;AAEDV,IAAAA,QAAQ,CAACG,OAAT,GAAmBR,IAAnB;AACH,GAND,EAMG,CAACA,IAAD,CANH;AAQA,sBACI;AAAK,IAAA,SAAS,EAAEF,OAAO,CAACT,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAY,IAAA,IAAI,EAAC,OAAjB;AAAyB,IAAA,SAAS,EAAES,OAAO,CAACJ,UAA5C;AAAwD,IAAA,KAAK,EAAC,SAA9D;AAAwE,kBAAW,MAAnF;AACI,IAAA,GAAG,EAAEQ,SADT;AACoB,qBAAeF,IAAI,GAAG,gBAAH,GAAsBgB,SAD7D;AACwE,qBAAc,MADtF;AAC6F,IAAA,OAAO,EAAEZ,YADtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADJ,eAKI,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAEJ,IAAd;AAAoB,IAAA,QAAQ,EAAEE,SAAS,CAACM,OAAxC;AAAiD,IAAA,IAAI,EAAEQ,SAAvD;AAAkE,IAAA,UAAU,MAA5E;AAA6E,IAAA,aAAa,MAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACK;AAAA,QAAGC,eAAH,QAAGA,eAAH;AAAA,QAAoBC,SAApB,QAAoBA,SAApB;AAAA,wBACG,oBAAC,IAAD,oBAAUD,eAAV;AAA2B,MAAA,KAAK,EAAE;AAAEE,QAAAA,eAAe,EAAED,SAAS,KAAK,QAAd,GAAyB,YAAzB,GAAwC;AAA3D,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,iBAAD;AAAmB,MAAA,WAAW,EAAEZ,WAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,QAAD;AAAU,MAAA,aAAa,EAAEN,IAAzB;AAA+B,MAAA,EAAE,EAAC,gBAAlC;AAAmD,MAAA,SAAS,EAAEW,iBAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAGI,oBAAC,QAAD;AAAU,MAAA,OAAO,EAAE;AAAA,eAAMd,QAAQ,CAAC;AAAEuB,UAAAA,IAAI,EAAE;AAAR,SAAD,CAAd;AAAA,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,CADJ,CADJ,CADJ,CADH;AAAA,GADL,CALJ,CADJ,CADJ;AAyBH;;AAED,eAAezB,mBAAf","sourcesContent":["import React from 'react';\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\nimport Grow from '@material-ui/core/Grow';\nimport Paper from '@material-ui/core/Paper';\nimport Popper from '@material-ui/core/Popper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport { makeStyles } from '@material-ui/core/styles';\nimport IconButton from '@material-ui/core/IconButton';\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown';\n\nimport HowToPlay from './HowToPlayModal';\nimport ProfileModal from './ProfileModal';\n\nimport { usePandemicContext } from '../../../contexts/PandemicContext';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n    },\n    paper: {\n        marginRight: theme.spacing(2),\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n}));\n\nfunction MenuListComposition() {\n    const [state, dispatch] = usePandemicContext();\n    const classes = useStyles();\n    const [open, setOpen] = React.useState(false);\n    const anchorRef = React.useRef(null);\n\n    const handleToggle = () => {\n        setOpen((prevOpen) => !prevOpen);\n    };\n\n    const handleClose = (event) => {\n        if (anchorRef.current && anchorRef.current.contains(event.target)) {\n            return;\n        }\n\n        setOpen(false);\n    };\n\n    function handleListKeyDown(event) {\n        if (event.key === 'Tab') {\n            event.preventDefault();\n            setOpen(false);\n        }\n    }\n\n    // return focus to the button when we transitioned from !open -> open\n    const prevOpen = React.useRef(open);\n    React.useEffect(() => {\n        if (prevOpen.current === true && open === false) {\n            anchorRef.current.focus();\n        }\n\n        prevOpen.current = open;\n    }, [open]);\n\n    return (\n        <div className={classes.root}>\n            <div>\n                <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\"\n                    ref={anchorRef} aria-controls={open ? 'menu-list-grow' : undefined} aria-haspopup=\"true\" onClick={handleToggle}>\n                    <ArrowDropDownIcon />\n                </IconButton>\n                <Popper open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\n                    {({ TransitionProps, placement }) => (\n                        <Grow {...TransitionProps} style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}>\n                            <Paper>\n                                <ClickAwayListener onClickAway={handleClose}>\n                                    <MenuList autoFocusItem={open} id=\"menu-list-grow\" onKeyDown={handleListKeyDown}>\n                                        <ProfileModal />\n                                        <HowToPlay />\n                                        <MenuItem onClick={() => dispatch({ type: \"QUIT\" })}>Quit</MenuItem>\n                                    </MenuList>\n                                </ClickAwayListener>\n                            </Paper>\n                        </Grow>\n                    )}\n                </Popper>\n            </div>\n        </div>\n    );\n}\n\nexport default MenuListComposition;"]},"metadata":{},"sourceType":"module"}